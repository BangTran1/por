:root{
  --bg: #0b0c10;
  --bg-2: #12131a;
  --card: #121420;
  --muted: #a8a2b2;
  --text: #eceaf1;
  --brand: #ddd1e9; /* lavender */
  --brand-2: #3e3746; /* deep plum */
  --brand-3: #a895c9; /* mid tone */
  --ring: 0 0 0 2px var(--brand) inset;
  --radius: 18px;
  --shadow-lg: 0 30px 60px rgba(0,0,0,.45);
  --shadow: 0 14px 30px rgba(0,0,0,.35);
}
/* Theme swap (CSS :has) */
body:has(#theme-toggle:checked){
  --bg: #0f0f14; --bg-2:#151520; --card:#151528;
  --text:#f2f0f6; --muted:#bdb6c9;
  --brand:#3e3746; --brand-2:#ddd1e9; --brand-3:#6e6283;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0; color:var(--text);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  line-height:1.6;
  background:
    radial-gradient(1200px 800px at 80% -10%, rgba(221,209,233,.22), transparent 60%),
    radial-gradient(900px 600px at -10% 20%, rgba(62,55,70,.22), transparent 60%),
    linear-gradient(120deg, #0a0b12, #12131a);
  overflow-x: hidden;
  position: relative;
  isolation: isolate;
}
/* animated gradient veil */
body::before{
  content:""; position:fixed; inset:-10% -10%; z-index:-1;
  background: conic-gradient(from 0deg, rgba(168,149,201,.10), rgba(221,209,233,.12), rgba(62,55,70,.12), rgba(168,149,201,.10));
  filter: blur(90px); opacity:.75; animation: spin 28s linear infinite;
  transform-origin: 50% 50%;
}
@keyframes spin{to{transform: rotate(360deg)}}

a{color:inherit; text-decoration:none; position:relative}
a.underline::after{
  content:""; position:absolute; left:0; right:100%; bottom:-3px; height:2px;
  background:linear-gradient(90deg, var(--brand), var(--brand-3)); transition: right .35s ease;
}
a.underline:hover::after{ right:0 }

img{max-width:100%; height:auto; display:block}
.container{max-width:1140px; margin:0 auto; padding:0 22px}

/* Header */
header{
  position:sticky; top:0; z-index:100; backdrop-filter:saturate(160%) blur(10px);
  background:linear-gradient(to bottom, rgba(11,13,16,.9), rgba(11,13,16,.6));
  border-bottom:1px solid rgba(255,255,255,.06);
}
.nav{display:flex; align-items:center; justify-content:space-between; padding:16px 0}
.logo{display:flex; align-items:center; gap:12px; font-weight:900; letter-spacing:.3px}
.logo-badge{width:38px; height:38px; border-radius:12px; background:linear-gradient(135deg, var(--brand), var(--brand-3)); display:grid; place-items:center; box-shadow:var(--shadow)}
.logo svg{width:18px; height:18px; fill:white}
.nav-links{display:flex; gap:22px; font-weight:700}
.nav-links a{opacity:.9}
.nav-links a:hover{opacity:1}

/* Sections */
section{padding:88px 0}
.section-title{font-size:30px; font-weight:900; letter-spacing:.3px; display:flex; align-items:center; gap:12px}
.section-title .dot{width:9px; height:9px; border-radius:50%; background:linear-gradient(135deg,var(--brand),var(--brand-3)); box-shadow:0 0 0 4px rgba(221,209,233,.18)}
.muted{color:var(--muted)}
.sub-title{margin:0 0 8px; font-size:18px}

/* Hero */
.hero{display:grid; grid-template-columns:1.15fr .85fr; gap:30px; align-items:center}
.hero h1{font-size:54px; line-height:1.05; margin:0 0 16px; font-weight:900; letter-spacing:.2px}
.hero .gradient-text{background:linear-gradient(90deg, var(--brand), var(--brand-3), var(--brand-2)); background-size:200% 100%; -webkit-background-clip:text; background-clip:text; color:transparent; animation: shimmer 6s ease-in-out infinite}
@keyframes shimmer{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
.tagline{display:inline-flex; gap:10px; align-items:center; padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.04)}
.pill{font-family:"JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; opacity:.95}

.cta{display:flex; gap:12px; flex-wrap:wrap}
.btn{display:inline-flex; align-items:center; gap:10px; padding:14px 18px; border-radius:14px; border:1px solid rgba(255,255,255,.1); font-weight:800; position:relative; overflow:hidden; transform: translateZ(0)}
.btn.primary{background:linear-gradient(135deg, var(--brand), var(--brand-3)); color:#1a1522; border-color:transparent; box-shadow:0 8px 24px rgba(221,209,233,.25)}
.btn::before{content:""; position:absolute; inset:-200% -50%; background:linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent); transform:rotate(10deg); animation: sweep 5s infinite}
.btn:hover{transform:translateY(-2px)}
@keyframes sweep{ 0%{transform: translateX(-40%) rotate(10deg)} 50%{transform: translateX(40%) rotate(10deg)} 100%{transform: translateX(-40%) rotate(10deg)} }

.card{position:relative; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden}
.card::after{content:""; position:absolute; inset:0; pointer-events:none; background: linear-gradient( to bottom, rgba(255,255,255,.06), transparent 30% ); opacity:.6}
.card:hover{transform: translateY(-6px) rotateX(1deg); box-shadow: var(--shadow-lg)}

.hero .preview{aspect-ratio:4/3; overflow:hidden; position:relative}
.hero .preview img{transition: transform .8s ease}
.hero .preview:hover img{ transform: scale(1.06) }
.hero .preview::before{content:""; position:absolute; inset:0; background: radial-gradient(600px 260px at 20% 0%, rgba(221,209,233,.18), transparent 40%)}

/* About grid (grid + flex showcase) */
.about-grid{
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr;
  gap:18px;
  margin-bottom:22px;
}
.about-card{padding:18px}
.info{list-style:none; margin:0; padding:0; display:grid; gap:8px}
.info li{display:flex; align-items:center; justify-content:space-between; gap:14px; border-bottom:1px dashed rgba(255,255,255,.08); padding:6px 0}
.info li span{color:var(--muted); font:700 12px "JetBrains Mono", monospace}
.hobbies .chips{display:flex; gap:10px; flex-wrap:wrap}
.chips li{border:1px solid rgba(255,255,255,.14); padding:6px 12px; border-radius:999px; background:rgba(255,255,255,.03)}

/* Tabs */
.tabs{display:grid; gap:12px}
.tab-controls{display:flex; gap:8px; flex-wrap:wrap}
.tab-controls label{cursor:pointer; padding:10px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.03); font-weight:800}
.tab-panel{display:none}
input[name=about-tab]{display:none}
#tab-bio:checked ~ .panels #panel-bio,
#tab-services:checked ~ .panels #panel-services,
#tab-awards:checked ~ .panels #panel-awards{display:block}
#tab-bio:checked ~ .controls label[for=tab-bio],
#tab-services:checked ~ .controls label[for=tab-services],
#tab-awards:checked ~ .controls label[for=tab-awards]{outline:1px solid rgba(221,209,233,.45)}

/* Skills */
.skills{display:grid; grid-template-columns:repeat(4,1fr); gap:18px}
.skills::after{content:""; grid-column:1/-1; height:1px; background:linear-gradient(90deg, transparent, rgba(221,209,233,.25), transparent); margin-top:8px; opacity:.6}
.skill{padding:18px; border-radius:16px; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03); position:relative; overflow:hidden}
.skill::before{content:""; position:absolute; inset:-1px; border-radius:18px; padding:1px; background: conic-gradient(from 180deg, rgba(168,149,201,.35), rgba(221,209,233,.35), rgba(168,149,201,.35)); -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; animation: ring 8s linear infinite}
@keyframes ring{ to{ transform: rotate(360deg) } }
.skill .k{font:700 12px "JetBrains Mono", monospace; color:var(--muted)}
.skill .v{font-weight:900; font-size:20px}

/* Language bars (CSS3 animation) */
.lang-grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:18px}
.lang .head{display:flex; align-items:center; justify-content:space-between; font-weight:800}
.lang .bar{height:10px; border-radius:999px; background:rgba(255,255,255,.08); overflow:hidden; position:relative}
.lang .bar span{display:block; height:100%; width:var(--pct); background:linear-gradient(90deg, var(--brand), var(--brand-3)); transform-origin:left; animation: grow 1.4s ease forwards}
@keyframes grow{ from{ transform:scaleX(.1) } to{ transform:scaleX(1) } }

/* Projects */
.projects{display:grid; grid-template-columns:repeat(3,1fr); gap:20px}
.project{overflow:hidden; position:relative}
.project .thumb{aspect-ratio: 16/10; background:#0f131a; border-bottom:1px solid rgba(255,255,255,.06); position:relative}
.project .thumb img{width:100%; height:100%; object-fit:cover; transition: transform 1s cubic-bezier(.2,.65,.2,1)}
.project .thumb::after{content:""; position:absolute; inset:0; background:
  linear-gradient(to top, rgba(26,21,34,.55), transparent 45%),
  repeating-linear-gradient(90deg, rgba(221,209,233,.06) 0 1px, transparent 1px 3px);
  opacity:0; transition:opacity .4s}
.project:hover .thumb img{ transform: scale(1.08) }
.project:hover .thumb::after{ opacity:1 }
.project .body{padding:16px; position:relative}
.project h3{margin:0 0 6px; font-size:20px}
.project .tags{display:flex; flex-wrap:wrap; gap:8px; margin-top:10px}
.tag{border:1px solid rgba(255,255,255,.14); padding:4px 10px; border-radius:999px; font-size:12px; color:var(--muted); background:rgba(255,255,255,.03); transition:transform .25s}
.tag:hover{transform: translateY(-2px)}
/* Tooltips */
.tag[data-tip]{position:relative}
.tag[data-tip]::after{content:attr(data-tip); position:absolute; left:50%; bottom:140%; transform:translateX(-50%); white-space:nowrap; padding:6px 10px; border-radius:8px; background:#1a1522; color:#eceaf1; font-size:12px; opacity:0; pointer-events:none; transition:opacity .2s, transform .2s; border:1px solid rgba(255,255,255,.12)}
.tag[data-tip]:hover::after{opacity:1; transform:translateX(-50%) translateY(-2px)}

/* Carousel (CSS-only) */
.carousel{position:relative; overflow:hidden; border-radius:18px}
.slides{display:flex; width:400%; transition: transform .7s cubic-bezier(.2,.6,.2,1)}
.slide{width:25%}
.slide .project{height:100%}
.carousel .viewport{overflow:hidden}
.carousel .dots{position:absolute; left:50%; bottom:14px; transform:translateX(-50%); display:flex; gap:8px}
.carousel .dot{width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.25); border:1px solid rgba(255,255,255,.4); cursor:pointer}
.carousel .dot:hover{background:rgba(221,209,233,.9)}
input[name=slide]{display:none}
#s1:checked ~ .viewport .slides{ transform: translateX(0%) }
#s2:checked ~ .viewport .slides{ transform: translateX(-25%) }
#s3:checked ~ .viewport .slides{ transform: translateX(-50%) }
#s4:checked ~ .viewport .slides{ transform: translateX(-75%) }
#s1:checked ~ .dots-wrap label[for=s1],
#s2:checked ~ .dots-wrap label[for=s2],
#s3:checked ~ .dots-wrap label[for=s3],
#s4:checked ~ .dots-wrap label[for=s4]{ background:linear-gradient(135deg, var(--brand), var(--brand-3)); border-color:transparent }

/* Gallery (Ảnh cá nhân) */
.gallery{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:16px;
}
.g-card{border-radius:16px; overflow:hidden; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03)}
.g-card img{width:100%; height:220px; object-fit:cover; display:block; transition: transform .6s ease}
.g-card figcaption{text-align:center; padding:8px 10px; color:var(--muted); font-weight:700}
.tilt{transform-style:preserve-3d; perspective: 700px}
.tilt:hover img{ transform: scale(1.06) translateZ(20px) }
.tilt:hover{ box-shadow: var(--shadow-lg) }

/* Contact */
.contact .grid{display:grid; grid-template-columns:1.2fr .8fr; gap:20px}
.contact .card{padding:20px}
.contact a.link{display:inline-flex; align-items:center; gap:10px; font-weight:800}
.contact .list{display:grid; gap:10px; margin-top:12px}

/* Decorative blobs */
.blobs{position:absolute; inset:0; pointer-events:none; z-index:-1}
.blob{position:absolute; width:520px; height:520px; filter: blur(90px); opacity:.2; border-radius:50%; mix-blend-mode:screen; animation: float 14s ease-in-out infinite}
.blob.orange{ background: radial-gradient(circle at 30% 30%, #ddd1e9, transparent 60%) }
.blob.cyan{ background: radial-gradient(circle at 20% 50%, #3e3746, transparent 60%); animation-delay: -5s }
@keyframes float{ 0%{ transform: translate(0,0) } 50%{ transform: translate(30px,-30px) } 100%{ transform: translate(0,0) } }

/* Marquee */
.marquee{border-bottom:1px solid rgba(255,255,255,.06); overflow:hidden; background: linear-gradient(180deg, rgba(255,255,255,.03), transparent)}
.marquee__track{display:flex; gap:36px; padding:10px 0; width:max-content; animation: marquee 24s linear infinite}
.marquee span{font-weight:800; letter-spacing:.6px; color:var(--muted)}
@keyframes marquee{ to{ transform: translateX(-50%) } }

/* Modal (Hire me) */
.modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55); padding:20px}
.modal .dialog{max-width:640px; width:100%; background:var(--card); border:1px solid rgba(255,255,255,.12); border-radius:18px; box-shadow:var(--shadow-lg); overflow:hidden}
.modal .dialog header{padding:16px 18px; border-bottom:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg, rgba(255,255,255,.04), transparent)}
.modal .dialog .content{padding:18px}
.modal .close{position:absolute; top:18px; right:18px; font-weight:900}
#hire:target{display:grid}

/* Section reveal */
.reveal{ clip-path: inset(0 0 100% 0); animation: reveal 1.1s ease forwards }
@keyframes reveal{ to{ clip-path: inset(0 0 0 0) } }

/* Footer */
footer{border-top:1px solid rgba(255,255,255,.06); padding:28px 0 80px; color:var(--muted); text-align:center}

/* Motion safety */
@media (prefers-reduced-motion: reduce){ *{animation: none!important; transition: none!important} }

/* Responsive */
@media (max-width: 980px){
  .hero{grid-template-columns:1fr}
  .about-grid{grid-template-columns:1fr}
  .skills{grid-template-columns:repeat(2,1fr)}
  .lang-grid{grid-template-columns:1fr}
  .projects{grid-template-columns:1fr 1fr}
  .gallery{grid-template-columns:1fr 1fr}
  .contact .grid{grid-template-columns:1fr}
  .hero h1{font-size:44px}
}
@media (max-width: 560px){
  .nav-links{display:none}
  .skills{grid-template-columns:1fr}
  .projects{grid-template-columns:1fr}
  .gallery{grid-template-columns:1fr}
  .hero h1{font-size:36px}
}

/* Fun CSS3: wavy hover */
.hero h1:hover{ filter: url(#wavy) }
